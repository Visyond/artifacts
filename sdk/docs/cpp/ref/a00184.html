<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>LibreOffice: salhelper::SingletonRef&lt; SingletonClass &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LibreOffice
   </div>
   <div id="projectbrief">LibreOffice 6.3 SDK C/C++ API Reference</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a00458.html">salhelper</a></li><li class="navelem"><a class="el" href="a00184.html">SingletonRef</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="a00715.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">salhelper::SingletonRef&lt; SingletonClass &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>template for implementing singleton classes.  
 <a href="a00184.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="a00417_source.html">singletonref.hxx</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abfddda6d3cd15061b3c98efe041901c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00184.html#abfddda6d3cd15061b3c98efe041901c2">SingletonRef</a> ()</td></tr>
<tr class="memdesc:abfddda6d3cd15061b3c98efe041901c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">standard ctor.  <a href="#abfddda6d3cd15061b3c98efe041901c2">More...</a><br/></td></tr>
<tr class="separator:abfddda6d3cd15061b3c98efe041901c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a182df1b4804b728950179d5a14636b88"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00184.html#a182df1b4804b728950179d5a14636b88">~SingletonRef</a> ()</td></tr>
<tr class="memdesc:a182df1b4804b728950179d5a14636b88"><td class="mdescLeft">&#160;</td><td class="mdescRight">standard dtor.  <a href="#a182df1b4804b728950179d5a14636b88">More...</a><br/></td></tr>
<tr class="separator:a182df1b4804b728950179d5a14636b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6580b80a2eb1a5d8ce2378ea808cdcd6"><td class="memItemLeft" align="right" valign="top">SingletonClass *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00184.html#a6580b80a2eb1a5d8ce2378ea808cdcd6">operator-&gt;</a> () const </td></tr>
<tr class="memdesc:a6580b80a2eb1a5d8ce2378ea808cdcd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows rSingle-&gt;someBodyOp().  <a href="#a6580b80a2eb1a5d8ce2378ea808cdcd6">More...</a><br/></td></tr>
<tr class="separator:a6580b80a2eb1a5d8ce2378ea808cdcd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e03942e6d1a5faa7ec5ce7b16610197"><td class="memItemLeft" align="right" valign="top">SingletonClass &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00184.html#a5e03942e6d1a5faa7ec5ce7b16610197">operator*</a> () const </td></tr>
<tr class="memdesc:a5e03942e6d1a5faa7ec5ce7b16610197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows (*rSingle).someBodyOp().  <a href="#a5e03942e6d1a5faa7ec5ce7b16610197">More...</a><br/></td></tr>
<tr class="separator:a5e03942e6d1a5faa7ec5ce7b16610197"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class SingletonClass&gt;<br/>
class salhelper::SingletonRef&lt; SingletonClass &gt;</h3>

<p>template for implementing singleton classes. </p>
<pre class="fragment">    Such classes can be instantiated every time they
    are needed. But the internal wrapped object will
    be created one times only. Of course its used
    resources are referenced one times only too.
    This template hold it alive till the last
    reference is gone. Further all operations
    on this reference are threadsafe. Only
    calls directly to the internal object (which modify
    its state) must be made threadsafe by the object itself
    or from outside.
</pre><dl class="section attention"><dt>Attention</dt><dd>To prevent the code against race conditions, it's not allowed to start operations inside the ctor of the internal wrapped object - especially operations which needs a reference to the same singleton too.</dd></dl>
<p>The only chance to suppress such strange constellations is a lazy-init mechanism.</p>
<ul>
<li>
a) The singleton class can provide a special init() method, which must be called as first after creation. </li>
<li>
b) The singleton class can call a special impl_init() method implicit for every called interface method. </li>
</ul>
<p>Note further that this singleton pattern can work only, if all user of such singleton are located inside the same library! Because static values can't be exported - e.g. from windows libraries. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="abfddda6d3cd15061b3c98efe041901c2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class SingletonClass &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00184.html">salhelper::SingletonRef</a>&lt; SingletonClass &gt;::<a class="el" href="a00184.html">SingletonRef</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>standard ctor. </p>
<p>The internal wrapped object is created only, if its ref count was 0. Otherwise this method does nothing ... except increasing of the internal ref count! </p>

</div>
</div>
<a class="anchor" id="a182df1b4804b728950179d5a14636b88"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class SingletonClass &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00184.html">salhelper::SingletonRef</a>&lt; SingletonClass &gt;::~<a class="el" href="a00184.html">SingletonRef</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>standard dtor. </p>
<p>The internal wrapped object is removed only, if its ref count will be 0. Otherwise this method does nothing ... except decreasing of the internal ref count! </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5e03942e6d1a5faa7ec5ce7b16610197"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class SingletonClass &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SingletonClass&amp; <a class="el" href="a00184.html">salhelper::SingletonRef</a>&lt; SingletonClass &gt;::operator* </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows (*rSingle).someBodyOp(). </p>

</div>
</div>
<a class="anchor" id="a6580b80a2eb1a5d8ce2378ea808cdcd6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class SingletonClass &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SingletonClass* <a class="el" href="a00184.html">salhelper::SingletonRef</a>&lt; SingletonClass &gt;::operator-&gt; </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows rSingle-&gt;someBodyOp(). </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>salhelper/<a class="el" href="a00417_source.html">singletonref.hxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
